<!DOCTYPE html>
<html>
<head>
  <title>sprites</title>
  <script src="https://code.createjs.com/createjs-2015.11.26.min.js"></script>
  <script>

  var stage;
  var image;

  data1 = {
    images:["jedi.png"],
    frames:[
      [95,1,19,43],[114.75,1,19,43],[134,1,19,43],[155,1,19,43],
      [177,1,19,43],[197.5,1,19,43],[216.85,1,19,43],[237.65,1,19,43]
    ],
    animations:{
      stand: 0,
      walkF: [0,15,"walkB",0.3],
      walkB: {
        frames:[0,15,14,13,12,11,10,9,8,7,6,5,4,3,2,1],
        next: "walkF",
        speed: 0.3
      }
    }
  };

  data2 = {
    images:["jedi.png"],
    frames:{width:21,height:43,spacing:1,count:16,margin:1},
    animations:{
      stand:0,
      walkF:[0,15]   // start,end,next*,speed*
    }
  };

  var ed_walk;
  var ed_stand;

  function load() {
    // IMAGE
    image = new Image();
    image.src = "jedi.png";
    image.onload = function(){ init(); }
  }

  function init() {
    // STAGE
    stage = new createjs.Stage("canvas");

    // IMAGE
    // display the spritesheet image
    var b = new createjs.Bitmap(image);
    b.x = 25; b.y = 25;
    stage.addChild(b);

    // SPRITESHEET
    var spritesheet = new createjs.SpriteSheet(data1);

    // SPRITES

    // standing Sprite
    ed_stand = new createjs.Sprite(spritesheet);

    ed_stand.x = 25; ed_stand.y = 75;

    // walking Sprite
    ed_walk = new createjs.Sprite(spritesheet,'walkF');
    ed_walk.addEventListener("change",walk);
    ed_walk.x = 25; ed_walk.y = 125;

    stage.addChild(ed_stand,ed_walk);

    // TICKER
    createjs.Ticker.setFPS(24);
    createjs.Ticker.addEventListener("tick",run);
  }

  // listener for Ticker "tick"
  function run(e) {
    stage.update();
  }

  // listener for ed_walk "change"
  function walk(e) {
    var s = e.target;
    s.x = s.x + 2;
  }

  // listener for button "onclick"
  function step(e) {
    var s = ed_stand;
    s.advance();
    s.x = s.x + 2;
 }
  </script>
</head>
<body onload="load()">
  <canvas id="canvas" width="500" height="250" style="border:solid black 1px"></canvas>
  <div><button onclick="step()">step</button></div>
</body>
</html>
